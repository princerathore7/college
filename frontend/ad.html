<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Administration â€” Dashboard</title>

<style>
:root{
  --bg:#f4f6fb;
  --card:#ffffff;
  --accent:#4f46e5;
}
*{box-sizing:border-box;font-family:Inter,system-ui,Arial,sans-serif}
body{margin:0;background:var(--bg);color:#111}

.wrap{min-height:100vh;display:flex;flex-direction:column}

header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:var(--card);
  padding:12px 20px;
  border-bottom:1px solid #e6e9f2;
  z-index:2;
}
header h1{margin:0;font-size:20px}
header button{
  background:var(--accent);
  color:#fff;
  border:0;
  padding:8px 14px;
  border-radius:8px;
  cursor:pointer;
}

.grid{
  display:grid;
  grid-template-columns:240px 1fr;
  flex:1;
}

aside{
  background:#fff;
  border-right:1px solid #e6e9f2;
  padding:12px;
}

.nav{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.nav button{
  padding:10px;
  border:0;
  border-radius:8px;
  background:transparent;
  text-align:left;
  cursor:pointer;
}
.nav button:hover,
.nav button.active{
  background:linear-gradient(90deg,var(--accent),#7c6cff);
  color:#fff;
}

main{
  padding:20px;
}

/* ======================
   FULL SCREEN OVERLAY
====================== */

.overlay{
  position:fixed;
  inset:0;
  background:#fff;
  z-index:999;
  display:none;
  flex-direction:column;
}

.overlay-header{
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px 16px;
  background:var(--card);
  border-bottom:1px solid #e6e9f2;
}

.overlay-header button{
  background:#eee;
  border:0;
  padding:8px 12px;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
}

.overlay iframe{
  flex:1;
  width:100%;
  border:none;
}
</style>
</head>

<body>
<div class="wrap">

<header>
  <h1>Administration Panel</h1>
  <button id="logoutBtn">Logout</button>
</header>

<div class="grid">
<aside>
<nav class="nav">

  <button data-page="/admin-students.html">ğŸ“ Student Management</button>
  <button data-page="/admin-marks.html">ğŸ“Š Marks & Results</button>
  <button data-page="/exam-ring.html">ğŸ“ Examination Setup</button>
  <button data-page="/bus-route.html">ğŸšŒ Transport / Bus Routes</button>
  <button data-page="/admin.html">ğŸ§‘â€ğŸ« Attendance & Class Control</button>
  <button data-page="/admin-salary.html">ğŸ’° Staff Salary</button>
  <button data-page="/pending.html">â³ Pending Fees</button>
  <button data-page="/admin-fine.html">ğŸ’³ Fines & Dues</button>
  <button data-page="/notice.html">ğŸ“¢ Notice Board</button>
  <button data-page="/manage.html">âš™ï¸ System Management</button>
  <button data-page="/design.html">ğŸ‰ Post New Event</button>
  <button data-page="/notes-post.html">ğŸ“š Upload Study Notes</button>
<!-- <button data-page="/attendance.html">ğŸ“‹ Attendance</button>-->
<button data-page="/clone-students.html">ğŸ“‹ clone students</button> 
<button data-page="/attendance.html">ğŸ“‹ attendace</button> 
<button data-page="/attendance.html">ğŸ“‹ attu</button> 
</nav>
</aside>

<main>
  <h2>Welcome</h2>
  <p>Select an option from the sidebar</p>
</main>
</div>
</div>

<!-- ======================
     FULL SCREEN CONTAINER
====================== -->

<div class="overlay" id="pageOverlay">
  <div class="overlay-header">
    <button id="backBtn">â¬… Back</button>
    <strong id="pageTitle">Administration</strong>
  </div>
  <iframe id="overlayFrame"></iframe>
</div>

<script>
/* ===============================
   ACCESS CONTROL â€” MENTOR ONLY
================================ */
const mentorId = localStorage.getItem("mentorId");
if(!mentorId){
  document.body.innerHTML = `
    <h2 style="text-align:center;margin-top:20vh;color:red">
      âŒ Unauthorized Access
    </h2>`;
  throw new Error("Mentor not logged in");
}

/* ===============================
   SIDEBAR â†’ FULL SCREEN PAGE
================================ */
const buttons = document.querySelectorAll(".nav button");
const overlay = document.getElementById("pageOverlay");
const frame   = document.getElementById("overlayFrame");
const titleEl = document.getElementById("pageTitle");

buttons.forEach(btn=>{
  btn.onclick = ()=>{
    sessionStorage.setItem("accessSource","ad"); // ğŸ” security flag

    buttons.forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");

    titleEl.textContent = btn.innerText;
    frame.src = btn.dataset.page;
    overlay.style.display = "flex";
  };
});

/* ===============================
   BACK / CLOSE OVERLAY
================================ */
document.getElementById("backBtn").onclick = ()=>{
  overlay.style.display = "none";
  frame.src = "";
  buttons.forEach(b=>b.classList.remove("active"));
};

/* ===============================
   LOGOUT
================================ */
document.getElementById("logoutBtn").onclick = ()=>{
  if(confirm("Logout?")){
    localStorage.clear();
    sessionStorage.clear();
    location.href="/login.html";
  }
};
</script>

</body>
</html>
